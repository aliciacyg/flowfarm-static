<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FlowFarm - Home Screen</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="screen">
    <!-- Header -->
    <div class="header">
      <div class="points">
        <span class="currency" id="balance-display">💰 $<span id="balance-amount">500</span></span>
        <!-- <span class="reputation">🏆 50</span> -->
      </div>
      <div class="date" id="current-date">
        Day 1
      </div>
      <div class="header-buttons">
        <button class="header-btn" onclick="openActiveRequest()">📌 Active Request</button>
        <button class="header-btn">🎯 Goals</button>
        <button class="header-btn">⚠️ Warnings</button>
      </div>
    </div>

    <!-- Tank Placeholder -->
    <div class="tank-placeholder">
      <img src="aquatank.png" alt="Aquaponics Tank" />
    </div>

    <!-- Action Buttons -->
    <div class="button-group">
      <button onclick="openStats()">
        📊 Stats
      </button>
      <button onclick="openInventory()">
        🎒 Inventory
      </button>
      <button onclick="openCommunityBoard()">
        📋 Community
      </button>
      <button>
        🛒 Shop
      </button>
      <button>
        🏪 Market
      </button>
    </div>
    <br><br><br><br>
    <!-- +1 day -->
    <button class="fast-forward" id="fast-forward-btn">
      ⏩ +1 Day
    </button>
  </div>

  <!-- Stats Popup Dialog -->
  <div id="stats-popup" class="popup">
    <div class="popup-container">
      <!-- Header -->
      <div class="popup-header">
        <h2>📊 System Information</h2>
        <button class="close-btn" onclick="closeStats()">X Close</button>
      </div>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab active" onclick="switchTab('water')">💧 Water</button>
        <button class="tab" onclick="switchTab('plants')">🌱 Plants</button>
        <button class="tab" onclick="switchTab('fish')">🐟 Fish</button>
      </div>

      <!-- Water Tab Content -->
      <div id="water-tab" class="tab-content active">
        <div id="water-stats-container"></div>
      </div>

      <!-- Plants Tab Content -->
      <div id="plants-tab" class="tab-content">
        <div id="plants-list"></div>
      </div>

      <!-- Fish Tab Content -->
      <div id="fish-tab" class="tab-content">
        <div id="fish-list"></div>
      </div>
    </div>
  </div>

  <!-- Community Board Popup Dialog -->
  <div id="community-popup" class="popup">
    <div class="popup-container">
      <!-- Header -->
      <div class="popup-header">
        <h2>📋 Community Board</h2>
        <button class="close-btn" onclick="closeCommunityBoard()">✕ Close</button>
      </div>

      <!-- Community Board Content -->
      <div class="tab-content active">
        <p style="margin-bottom: 20px; text-align: center;">
          Help your neighbors and earn rewards!
        </p>

        <div class="request-list" id="community-request-list">
          <!-- List of requests populated through script -->
        </div>
        <p class="no-requests-message" id="community-request-empty" style="display: none; text-align: center;">
          No community requests available right now.
        </p>
      </div>
    </div>
  </div>

  <!-- Request Detail Popup -->
  <div id="request-detail-popup" class="request-detail">
    <div class="detail-container" id="request-detail-container">
      <!-- Detail Header -->
      <div class="detail-header">
        <h2 id="request-detail-title"></h2>
        <p id="request-detail-posted-by"></p>
      </div>

      <!-- Detail Content -->
      <div class="detail-content">
        <div class="detail-section">
          <h3>📝 Request Details</h3>
          <p id="request-detail-description"></p>
        </div>

        <div class="detail-section">
          <h3>📦 Requirements</h3>
          <div class="requirements-box">
            <ul id="request-detail-requirements"></ul>
          </div>
        </div>

        <div class="detail-section">
          <h3>🎁 Rewards</h3>
          <div class="reward-box">
            <p id="request-detail-rewards"></p>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button id="request-detail-back-btn">← Back</button>
        <button class="primary" id="request-accept-btn">Accept Request</button>
        <button class="primary" id="request-complete-btn" disabled style="display: none;">Complete Request</button>
      </div>
    </div>
  </div>

  <!-- Inventory Popup -->
  <div id="inventory-popup" class="popup">
    <div class="popup-container">
      <div class="popup-header">
        <h2>🎒 Inventory</h2>
        <button class="close-btn" onclick="closeInventory()">✕ Close</button>
      </div>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab active" onclick="switchInventoryTab('consumables')">📦 Supplies</button>
        <button class="tab" onclick="switchInventoryTab('equipment')">⚙️ Equipment</button>
        <button class="tab" onclick="switchInventoryTab('harvest')">🌾 Harvest</button>
      </div>

      <!-- Consumables Tab Content -->
      <div id="consumables-tab" class="tab-content active">
        <div id="consumables-list"></div>
      </div>

      <!-- Equipment Tab Content -->
      <div id="equipment-tab" class="tab-content">
        <div id="equipment-list"></div>
      </div>

      <!-- Harvest Tab Content -->
      <div id="harvest-tab" class="tab-content">
        <div class="harvest-grid" id="harvest-list"></div>
      </div>
    </div>
  </div>

  <!-- Crisis Event Popup -->
  <div id="crisis-popup" class="popup">
    <div class="popup-container">
      <div class="popup-header">
        <h2 id="crisis-title">⚠️ Crisis</h2>
        <button class="close-btn" onclick="closeCrisis()">✕ Close</button>
      </div>
      <div class="popup-content">
        <p id="crisis-description">Crisis description stub goes here.</p>
        <div id="crisis-options" class="crisis-options"></div>
      </div>
    </div>
  </div>

  <!-- Gill Guide Popup -->
  <div id="gill-popup" class="popup">
    <div class="gill-container">
      <div class="gill-header">
        <div class="gill-avatar">
          <img src="gill.png" alt="Gill the Fish" id="gill-image">
        </div>
        <div class="gill-name">Gill</div>
      </div>
      <div class="gill-speech-bubble">
        <p id="gill-message">Message from Gill goes here...</p>
      </div>
      <div class="gill-footer">
        <button class="gill-continue-btn" id="gill-next-btn">Next ▶</button>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>

</html>
